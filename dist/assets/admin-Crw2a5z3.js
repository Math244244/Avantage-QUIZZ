import"./sidebar-mobile-BvaTxjQg.js";/* empty css                 */import{r as b,t as v,v as w,w as f,x as T,j as y}from"./admin-BqW1z8Wp.js";import"./services-CfagOv0X.js";import"https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";import"./quiz-DC566aXg.js";import"https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js";import"https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";import"https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";import"https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";import"https://www.gstatic.com/firebasejs/10.7.1/firebase-functions.js";class E{constructor(){this.activeTooltip=null,this.hoverDelay=300,this.hideDelay=100,this.hoverTimer=null,this.hideTimer=null,this.isTouchDevice="ontouchstart"in window,this.init()}init(){console.log("ðŸŽ¯ Initialisation du systÃ¨me de tooltips"),this.createTooltipContainer(),this.initializeTooltips(),this.observeDOM(),console.log("âœ… SystÃ¨me de tooltips initialisÃ©")}createTooltipContainer(){let t=document.getElementById("tooltip-container");t||(t=document.createElement("div"),t.id="tooltip-container",t.className="fixed pointer-events-none z-[9999]",document.body.appendChild(t)),this.container=t}initializeTooltips(){const t=document.querySelectorAll("[data-tooltip]");t.forEach(e=>this.attachTooltip(e)),console.log(`ðŸ“Œ ${t.length} tooltips initialisÃ©s`)}observeDOM(){new MutationObserver(e=>{e.forEach(a=>{a.addedNodes.forEach(o=>{o.nodeType===1&&(o.hasAttribute&&o.hasAttribute("data-tooltip")&&this.attachTooltip(o),o.querySelectorAll&&o.querySelectorAll("[data-tooltip]").forEach(i=>{this.attachTooltip(i)}))})})}).observe(document.body,{childList:!0,subtree:!0})}attachTooltip(t){t.dataset.tooltipAttached||(t.dataset.tooltipAttached="true",!this.isTouchDevice&&(t.addEventListener("mouseenter",e=>this.handleMouseEnter(e,t)),t.addEventListener("mouseleave",e=>this.handleMouseLeave(e)),t.addEventListener("focus",e=>this.handleFocus(e,t)),t.addEventListener("blur",e=>this.handleBlur(e)),t.setAttribute("aria-describedby",`tooltip-${this.generateId()}`)))}generateId(){return Math.random().toString(36).substring(2,11)}handleMouseEnter(t,e){clearTimeout(this.hideTimer),this.hoverTimer=setTimeout(()=>{this.showTooltip(e)},this.hoverDelay)}handleMouseLeave(t){clearTimeout(this.hoverTimer),this.hideTimer=setTimeout(()=>{this.hideTooltip()},this.hideDelay)}handleFocus(t,e){this.showTooltip(e)}handleBlur(t){this.hideTooltip()}showTooltip(t){const e=t.dataset.tooltip,a=t.dataset.tooltipPosition||"top",o=t.dataset.tooltipTheme||"dark",i=t.dataset.tooltipSize||"medium";if(!e)return;this.hideTooltip();const r=this.createTooltipElement(e,o,i);this.container.appendChild(r),this.activeTooltip=r,this.positionTooltip(r,t,a),setTimeout(()=>{r.classList.remove("opacity-0","scale-95"),r.classList.add("opacity-100","scale-100")},10)}createTooltipElement(t,e,a){const o=document.createElement("div");return o.className=`tooltip absolute opacity-0 scale-95 transform transition-all duration-200 ease-out ${this.getThemeClasses(e)} ${this.getSizeClasses(a)}`,o.innerHTML=`
            <div class="tooltip-content relative">
                ${t}
                <div class="tooltip-arrow absolute w-2 h-2 transform rotate-45 ${this.getArrowClasses(e)}"></div>
            </div>
        `,o}getThemeClasses(t){const e={dark:"bg-slate-900 text-white shadow-lg",light:"bg-white text-slate-900 shadow-lg border border-slate-200",success:"bg-green-600 text-white shadow-lg",error:"bg-red-600 text-white shadow-lg",warning:"bg-orange-600 text-white shadow-lg",info:"bg-blue-600 text-white shadow-lg"};return e[t]||e.dark}getSizeClasses(t){const e={small:"text-xs px-2 py-1 rounded",medium:"text-sm px-3 py-2 rounded-md",large:"text-base px-4 py-3 rounded-lg"};return e[t]||e.medium}getArrowClasses(t){const e={dark:"bg-slate-900",light:"bg-white border-l border-b border-slate-200",success:"bg-green-600",error:"bg-red-600",warning:"bg-orange-600",info:"bg-blue-600"};return e[t]||e.dark}positionTooltip(t,e,a){const o=e.getBoundingClientRect(),i=t.getBoundingClientRect(),r=t.querySelector(".tooltip-arrow"),d=8,n=8,l={top:{top:o.top-i.height-d,left:o.left+o.width/2-i.width/2,arrowTop:i.height-n/2,arrowLeft:i.width/2-n/2,arrowRotate:"rotate(45deg)"},bottom:{top:o.bottom+d,left:o.left+o.width/2-i.width/2,arrowTop:-n/2,arrowLeft:i.width/2-n/2,arrowRotate:"rotate(225deg)"},left:{top:o.top+o.height/2-i.height/2,left:o.left-i.width-d,arrowTop:i.height/2-n/2,arrowLeft:i.width-n/2,arrowRotate:"rotate(135deg)"},right:{top:o.top+o.height/2-i.height/2,left:o.right+d,arrowTop:i.height/2-n/2,arrowLeft:-n/2,arrowRotate:"rotate(315deg)"}};let u=a;const h=l[a];if(h&&(h.top<0||h.top+i.height>window.innerHeight||h.left<0||h.left+i.width>window.innerWidth)){const g=["top","bottom","left","right"];for(const m of g){const p=l[m];if(!(p.top<0||p.top+i.height>window.innerHeight||p.left<0||p.left+i.width>window.innerWidth)){u=m;break}}}const c=l[u]||l.top;t.style.top=`${c.top}px`,t.style.left=`${c.left}px`,r&&(r.style.top=`${c.arrowTop}px`,r.style.left=`${c.arrowLeft}px`,r.style.transform=c.arrowRotate)}hideTooltip(){this.activeTooltip&&(this.activeTooltip.classList.remove("opacity-100","scale-100"),this.activeTooltip.classList.add("opacity-0","scale-95"),setTimeout(()=>{this.activeTooltip&&this.activeTooltip.parentNode&&this.activeTooltip.parentNode.removeChild(this.activeTooltip),this.activeTooltip=null},200))}add(t,e,a={}){t.dataset.tooltip=e,t.dataset.tooltipPosition=a.position||"top",t.dataset.tooltipTheme=a.theme||"dark",t.dataset.tooltipSize=a.size||"medium",this.attachTooltip(t)}remove(t){t.removeAttribute("data-tooltip"),t.removeAttribute("data-tooltip-position"),t.removeAttribute("data-tooltip-theme"),t.removeAttribute("data-tooltip-size"),t.removeAttribute("data-tooltip-attached"),t.removeAttribute("aria-describedby")}update(t,e,a={}){this.remove(t),this.add(t,e,a)}destroy(){this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container),clearTimeout(this.hoverTimer),clearTimeout(this.hideTimer),console.log("ðŸ—‘ï¸ SystÃ¨me de tooltips dÃ©truit")}}const L=new E;window.tooltip=L;b().then(s=>{console.log("Admin authentifiÃ©:",s.email),v.success(`Bienvenue ${s.displayName||s.email} !`,3e3);const t=document.getElementById("admin-name"),e=document.getElementById("admin-avatar");t&&(t.textContent=s.displayName||s.email),e&&s.photoURL&&(e.src=s.photoURL),w(),f(),T(),x()}).catch(s=>{console.error("Erreur authentification admin:",s)});function x(){const s=document.getElementById("tab-dashboard-btn"),t=document.getElementById("tab-questions-btn"),e=document.getElementById("tab-users-btn"),a=document.getElementById("tab-dashboard"),o=document.getElementById("tab-questions"),i=document.getElementById("tab-users");function r(d,n){[s,t,e].forEach(l=>{l.classList.remove("border-ap-red-primary","text-ap-red-primary"),l.classList.add("border-transparent","text-slate-600"),l.setAttribute("aria-selected","false")}),[a,o,i].forEach(l=>{l.classList.add("tab-hidden")}),d.classList.remove("border-transparent","text-slate-600"),d.classList.add("border-ap-red-primary","text-ap-red-primary"),d.setAttribute("aria-selected","true"),n.classList.remove("tab-hidden")}s.addEventListener("click",()=>r(s,a)),t.addEventListener("click",()=>r(t,o)),e.addEventListener("click",()=>r(e,i))}document.getElementById("signout-link")?.addEventListener("click",s=>{s.preventDefault(),confirm("Voulez-vous vraiment vous dÃ©connecter ?")&&y().then(()=>{window.location.href="/"})});
//# sourceMappingURL=admin-Crw2a5z3.js.map
