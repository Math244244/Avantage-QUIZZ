/**
 * üé¨ SYST√àME D'ANIMATIONS AVANTAGE PLUS
 * ======================================
 * Animations fluides, micro-interactions, effets premium
 * Performance: 60fps garantis
 * 
 * Cr√©√© le: 2025-11-08
 * Version: 1.0.0
 */

/* ========================================
   VARIABLES D'ANIMATION
   ======================================== */
:root {
  /* Dur√©es */
  --ap-duration-instant: 0.1s;
  --ap-duration-fast: 0.2s;
  --ap-duration-base: 0.3s;
  --ap-duration-slow: 0.5s;
  --ap-duration-slower: 0.8s;
  
  /* Timing functions */
  --ap-ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
  --ap-ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
  --ap-ease-in: cubic-bezier(0.4, 0, 1, 1);
  --ap-ease-out: cubic-bezier(0, 0, 0.2, 1);
  --ap-ease-in-out: cubic-bezier(0.4, 0, 0.6, 1);
}

/* ========================================
   ANIMATIONS GLOBALES
   ======================================== */

/* Pulse Dor√© Subtil - Pour badges actifs */
@keyframes pulseGoldSubtle {
  0%, 100% {
    box-shadow: 0 4px 12px rgba(212, 175, 55, 0.25);
    transform: scale(1);
  }
  50% {
    box-shadow: 0 4px 20px rgba(212, 175, 55, 0.4);
    transform: scale(1.02);
  }
}

/* Pulse Dor√© pour Ic√¥ne */
@keyframes iconPulseGold {
  0%, 100% {
    box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3);
  }
  50% {
    box-shadow: 0 6px 25px rgba(212, 175, 55, 0.5);
  }
}

/* Fade In */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Fade In Up */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Fade In Down */
@keyframes fadeInDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Fade In Left */
@keyframes fadeInLeft {
  from {
    opacity: 0;
    transform: translateX(-30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Fade In Right */
@keyframes fadeInRight {
  from {
    opacity: 0;
    transform: translateX(30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Scale In */
@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Slide In Left */
@keyframes slideInLeft {
  from {
    transform: translateX(-100%);
  }
  to {
    transform: translateX(0);
  }
}

/* Slide In Right */
@keyframes slideInRight {
  from {
    transform: translateX(100%);
  }
  to {
    transform: translateX(0);
  }
}

/* ========================================
   PAGE TRANSITIONS
   ======================================== */

.page-enter {
  animation: fadeInUp 0.6s var(--ap-ease-out);
}

.page-transition {
  transition: opacity 0.3s var(--ap-ease-smooth);
}

.page-transition.fade-out {
  opacity: 0;
}

/* ========================================
   CARD ANIMATIONS
   ======================================== */

/* Entr√©e de carte */
@keyframes cardSlideIn {
  from {
    opacity: 0;
    transform: translateY(30px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.card-enter {
  animation: cardSlideIn 0.5s var(--ap-ease-out);
}

/* Stagger effect pour liste de cartes */
.card-enter:nth-child(1) { animation-delay: 0.05s; }
.card-enter:nth-child(2) { animation-delay: 0.1s; }
.card-enter:nth-child(3) { animation-delay: 0.15s; }
.card-enter:nth-child(4) { animation-delay: 0.2s; }
.card-enter:nth-child(5) { animation-delay: 0.25s; }
.card-enter:nth-child(6) { animation-delay: 0.3s; }
.card-enter:nth-child(7) { animation-delay: 0.35s; }
.card-enter:nth-child(8) { animation-delay: 0.4s; }

/* Hover lift effect */
.card-hover {
  transition: all 0.3s var(--ap-ease-smooth);
}

.card-hover:hover {
  transform: translateY(-5px);
  box-shadow: var(--ap-shadow-lg);
}

/* ========================================
   BUTTON ANIMATIONS
   ======================================== */

/* Ripple effect */
.btn-ripple {
  position: relative;
  overflow: hidden;
}

.btn-ripple::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.5);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

.btn-ripple:active::after {
  width: 300px;
  height: 300px;
}

/* Hover effect */
.btn-hover {
  transition: all 0.3s var(--ap-ease-smooth);
}

.btn-hover:hover {
  transform: translateY(-2px);
  box-shadow: var(--ap-shadow-hover);
}

.btn-hover:active {
  transform: translateY(0);
}

/* ========================================
   LOADING ANIMATIONS
   ======================================== */

/* Spinner */
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.spinner {
  width: 48px;
  height: 48px;
  border: 4px solid var(--ap-gray-200);
  border-top-color: var(--ap-red-primary);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

.spinner-sm {
  width: 24px;
  height: 24px;
  border-width: 3px;
}

.spinner-lg {
  width: 64px;
  height: 64px;
  border-width: 5px;
}

/* Pulse */
@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

.pulse {
  animation: pulse 2s var(--ap-ease-in-out) infinite;
}

/* Bounce */
@keyframes bounce {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

.bounce {
  animation: bounce 1s ease-in-out infinite;
}

/* Shimmer (skeleton loading) */
@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }
  100% {
    background-position: 1000px 0;
  }
}

.skeleton {
  background: linear-gradient(
    90deg,
    var(--ap-gray-200) 0%,
    var(--ap-red-50) 20%,
    var(--ap-gray-200) 40%,
    var(--ap-gray-200) 100%
  );
  background-size: 1000px 100%;
  animation: shimmer 1.5s linear infinite;
}

/* ========================================
   TOAST & NOTIFICATION ANIMATIONS
   ======================================== */

/* Toast slide in */
@keyframes toastSlideIn {
  from {
    transform: translateY(-100px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.toast-enter {
  animation: toastSlideIn 0.4s var(--ap-ease-out);
}

/* Toast slide out */
@keyframes toastSlideOut {
  from {
    transform: translateY(0);
    opacity: 1;
  }
  to {
    transform: translateY(-100px);
    opacity: 0;
  }
}

.toast-exit {
  animation: toastSlideOut 0.3s var(--ap-ease-in);
}

/* ========================================
   SUCCESS ANIMATIONS
   ======================================== */

/* Check mark draw */
@keyframes checkDraw {
  0% {
    stroke-dashoffset: 100;
  }
  100% {
    stroke-dashoffset: 0;
  }
}

.check-icon {
  stroke-dasharray: 100;
  stroke-dashoffset: 100;
  animation: checkDraw 0.5s var(--ap-ease-out) forwards;
}

/* Celebration */
@keyframes celebrate {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.3) rotate(5deg);
  }
  100% {
    transform: scale(1) rotate(0);
  }
}

.celebrate {
  animation: celebrate 0.6s var(--ap-ease-bounce);
}

/* ========================================
   PROGRESS BAR ANIMATIONS
   ======================================== */

@keyframes progressFill {
  from {
    width: 0%;
  }
  /* Width finale sera d√©finie inline */
}

.progress-fill {
  animation: progressFill 1.5s var(--ap-ease-out) forwards;
}

/* ========================================
   BADGE ANIMATIONS
   ======================================== */

/* Pulse badge */
@keyframes badgePulse {
  0%, 100% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(196, 30, 58, 0.7);
  }
  50% {
    transform: scale(1.05);
    box-shadow: 0 0 10px 5px rgba(196, 30, 58, 0);
  }
}

.badge-pulse {
  animation: badgePulse 1.5s ease-in-out infinite;
}

/* Shimmer badge (gold) */
@keyframes shimmerGold {
  0%, 100% {
    box-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
  }
  50% {
    box-shadow: 0 0 20px rgba(255, 215, 0, 0.6);
  }
}

.badge-shimmer {
  animation: shimmerGold 2s ease-in-out infinite;
}

/* ========================================
   MODAL ANIMATIONS
   ======================================== */

/* Modal backdrop */
@keyframes backdropFadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.modal-backdrop-enter {
  animation: backdropFadeIn 0.3s var(--ap-ease-out);
}

/* Modal content */
@keyframes modalSlideIn {
  from {
    opacity: 0;
    transform: translateY(-50px) scale(0.9);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.modal-enter {
  animation: modalSlideIn 0.4s var(--ap-ease-out);
}

/* ========================================
   DROPDOWN ANIMATIONS
   ======================================== */

@keyframes dropdownSlideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.dropdown-enter {
  animation: dropdownSlideDown 0.2s var(--ap-ease-out);
}

/* ========================================
   SHAKE ANIMATION (ERREUR)
   ======================================== */

@keyframes shake {
  0%, 100% {
    transform: translateX(0);
  }
  10%, 30%, 50%, 70%, 90% {
    transform: translateX(-10px);
  }
  20%, 40%, 60%, 80% {
    transform: translateX(10px);
  }
}

.shake {
  animation: shake 0.5s var(--ap-ease-out);
}

/* ========================================
   CONFETTI ANIMATIONS
   ======================================== */

@keyframes confettiFall {
  0% {
    transform: translateY(0) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translateY(100vh) rotate(720deg);
    opacity: 0;
  }
}

.confetti-particle {
  animation: confettiFall 3s ease-in-out forwards;
}

/* ========================================
   MASCOT ANIMATIONS
   ======================================== */

/* Bounce subtil */
@keyframes mascotBounce {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-15px);
  }
}

.mascot-bounce {
  animation: mascotBounce 2s ease-in-out infinite;
}

/* C√©l√©bration */
@keyframes mascotCelebrate {
  0% {
    transform: translateY(300px) rotate(-30deg) scale(0.5);
    opacity: 0;
  }
  60% {
    transform: translateY(-30px) rotate(10deg) scale(1.1);
  }
  100% {
    transform: translateY(0) rotate(0) scale(1);
    opacity: 1;
  }
}

.mascot-celebrate {
  animation: mascotCelebrate 1s var(--ap-ease-out);
}

/* Sway */
@keyframes mascotSway {
  0%, 100% {
    transform: rotate(-3deg);
  }
  50% {
    transform: rotate(3deg);
  }
}

.mascot-sway {
  animation: mascotSway 2s ease-in-out infinite;
}

/* ========================================
   HOVER EFFECTS
   ======================================== */

/* Glow effect */
.hover-glow {
  transition: all 0.3s var(--ap-ease-smooth);
}

.hover-glow:hover {
  box-shadow: 0 0 20px rgba(196, 30, 58, 0.4);
}

/* Float effect */
.hover-float {
  transition: transform 0.3s var(--ap-ease-smooth);
}

.hover-float:hover {
  transform: translateY(-8px);
}

/* Rotate subtle */
.hover-rotate {
  transition: transform 0.3s var(--ap-ease-smooth);
}

.hover-rotate:hover {
  transform: rotate(5deg);
}

/* Scale */
.hover-scale {
  transition: transform 0.3s var(--ap-ease-smooth);
}

.hover-scale:hover {
  transform: scale(1.05);
}

/* ========================================
   UTILITY CLASSES
   ======================================== */

.animate-fade-in {
  animation: fadeIn 0.5s var(--ap-ease-out);
}

.animate-fade-in-up {
  animation: fadeInUp 0.5s var(--ap-ease-out);
}

.animate-fade-in-down {
  animation: fadeInDown 0.5s var(--ap-ease-out);
}

.animate-scale-in {
  animation: scaleIn 0.4s var(--ap-ease-out);
}

.animate-spin {
  animation: spin 1s linear infinite;
}

.animate-pulse {
  animation: pulse 2s ease-in-out infinite;
}

.animate-bounce {
  animation: bounce 1s ease-in-out infinite;
}

/* Delays */
.delay-100 { animation-delay: 0.1s; }
.delay-200 { animation-delay: 0.2s; }
.delay-300 { animation-delay: 0.3s; }
.delay-400 { animation-delay: 0.4s; }
.delay-500 { animation-delay: 0.5s; }

/* ========================================
   REDUCED MOTION
   ======================================== */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* ========================================
   PERFORMANCE OPTIMIZATIONS
   ======================================== */

/* GPU acceleration pour animations smooth */
.will-change-transform {
  will-change: transform;
}

.will-change-opacity {
  will-change: opacity;
}

/* Forcer hardware acceleration */
.gpu-accelerated {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
}

/* ========================================
   ‚ôø ACCESSIBILIT√â: PREFERS-REDUCED-MOTION
   ======================================== */
/**
 * Respect des pr√©f√©rences utilisateur pour r√©duire les animations
 * WCAG 2.1 Crit√®re 2.3.3 (Niveau AAA)
 * 
 * Si l'utilisateur a activ√© "R√©duire les mouvements" dans son OS:
 * - D√©sactive toutes les animations non essentielles
 * - R√©duit les transitions √† un minimum
 * - Pr√©serve les animations critiques pour l'UX
 */
@media (prefers-reduced-motion: reduce) {
  /* D√©sactiver toutes les animations */
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  
  /* Exceptions: conserver les animations critiques */
  /* Loading spinners (essentiels pour le feedback) */
  .spinner,
  [role="status"],
  [role="progressbar"] {
    animation-duration: 1s !important;
  }
  
  /* Transitions de focus (essentielles pour accessibilit√©) */
  :focus,
  :focus-visible {
    transition-duration: 0.15s !important;
  }
  
  /* D√©sactiver hover transforms (peuvent causer naus√©es) */
  .module-card:hover,
  .card-hover:hover,
  .transform:hover {
    transform: none !important;
  }
  
  /* D√©sactiver les parallax et effets complexes */
  .parallax,
  .gpu-accelerated {
    transform: none !important;
  }
}

