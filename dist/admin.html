<!DOCTYPE html>
<html lang="fr" class="h-full bg-slate-100">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="QuizPro - Interface Administrateur">
    <title>QuizPro - Administration</title>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- CSS -->
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafd;
            background-image: radial-gradient(#dbeafe 1px, transparent 1px);
            background-size: 16px 16px;
        }
        
        .tab-hidden {
            display: none;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .animate-fade-in {
            animation: fadeIn 0.3s ease-out;
        }
    </style>
  <script type="module" crossorigin src="/assets/admin-C79-10EQ.js"></script>
  <link rel="modulepreload" crossorigin href="/assets/auth-D4kH-WQh.js">
  <link rel="modulepreload" crossorigin href="/assets/skeleton-BmdGa2iR.js">
  <link rel="modulepreload" crossorigin href="/assets/question-service-CN3moGoy.js">
  <link rel="modulepreload" crossorigin href="/assets/state-manager-w7-wWzCS.js">
  <link rel="stylesheet" crossorigin href="/assets/auth-DRV271Ku.css">
  <link rel="stylesheet" crossorigin href="/assets/skeleton-BNBe2cdg.css">
</head>
<body class="h-full flex">

    <!-- BARRE LAT√âRALE DE NAVIGATION - AVANTAGE PLUS -->
    <nav class="sidebar" aria-label="Navigation principale" role="navigation">
        <!-- Logo Avantage Plus -->
        <div class="sidebar-logo-container">
            <img src="/assets/logo-avantage-plus-red-transparent-DgGYNm5A.png" 
                 alt="Avantage Plus Logo" 
                 class="sidebar-logo"
                 onerror="this.onerror=null; this.style.display='none'; this.nextElementSibling.style.display='flex';">
            <div class="sidebar-logo" style="display: none; background: var(--ap-red-primary); border-radius: 50%; align-items: center; justify-content: center; color: white; font-size: 3rem; font-weight: 900;">
                AP
            </div>
            <p class="sidebar-brand-text">QuizPro<br><span style="font-size: 0.6em; opacity: 0.8;">by Avantage Plus</span></p>
        </div>
        <!-- Navigation Items -->
        <div class="sidebar-nav">
            <a href="/" class="sidebar-item" role="menuitem">
                <span class="sidebar-item-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" /></svg>
                </span>
                <span class="sidebar-item-text">Tableau de Bord</span>
            </a>
            
            <a href="/#quiz" id="nav-quiz" class="sidebar-item" role="menuitem">
                <span class="sidebar-item-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4" /></svg>
                </span>
                <span class="sidebar-item-text">Quiz</span>
            </a>
            
            <a href="/results.html" class="sidebar-item" role="menuitem">
                <span class="sidebar-item-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" /></svg>
                </span>
                <span class="sidebar-item-text">Mes R√©sultats</span>
            </a>
            
            <a href="/resources.html" class="sidebar-item" role="menuitem">
                <span class="sidebar-item-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v11.494m0 0l-2.47-2.47m2.47 2.47l2.47-2.47M5 12H4a1 1 0 00-1 1v4a1 1 0 001 1h1m14-5h1a1 1 0 011 1v4a1 1 0 01-1 1h-1M5 12a2 2 0 012-2h10a2 2 0 012 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h10a2 2 0 002-2v-4a2 2 0 00-2-2" /></svg>
                </span>
                <span class="sidebar-item-text">Ressources</span>
            </a>
            
            <a href="/admin.html" class="sidebar-item active" role="menuitem" aria-current="page">
                <span class="sidebar-item-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
                </span>
                <span class="sidebar-item-text">Gestion Admin</span>
                <span class="sidebar-item-badge">ADMIN</span>
            </a>
        </div>
        <!-- Footer avec Profile -->
        <div class="sidebar-footer">
            <div class="sidebar-admin-badge">
                <span class="sidebar-admin-badge-icon">üëë</span>
                Administrateur
            </div>
            
            <button id="signout-link" class="sidebar-user-profile" style="width: 100%; background: none; border: none; cursor: pointer;">
                <svg class="h-5 w-5 mr-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" /></svg>
                <span class="sidebar-user-name">D√©connexion</span>
            </button>
        </div>
    </nav>

    <!-- CONTENU PRINCIPAL -->
    <main class="flex-1 ml-64 p-8">

    <div class="min-h-screen bg-slate-100">
        <!-- Header - GRADIENT AVANTAGE PLUS -->
        <header class="shadow-ap-lg" style="background: var(--ap-gradient-primary); border-bottom: 3px solid var(--ap-gold);">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-4">
                        <a href="/index.html" class="text-white hover:text-ap-gold transition">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                            </svg>
                        </a>
                        <div>
                            <h1 class="text-3xl font-bold text-white" style="text-shadow: 0 2px 10px rgba(0,0,0,0.3);">Interface Administrateur</h1>
                            <p class="text-white text-sm opacity-90">Gestion complete de la plateforme QuizPro</p>
                        </div>
                    </div>
                    <div class="flex items-center gap-3">
                        <div id="admin-profile" class="flex items-center gap-3 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-lg">
                            <img id="admin-avatar" class="w-10 h-10 rounded-full" src="https://placehold.co/100x100/667eea/fff?text=A" alt="Admin">
                            <div class="text-right">
                                <p id="admin-name" class="text-sm font-semibold text-white">Admin</p>
                                <p class="text-xs text-white opacity-80">üî∞ Administrateur</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Tabs Navigation -->
        <div class="bg-white shadow">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <nav class="flex gap-8" role="tablist">
                    <button 
                        id="tab-dashboard-btn" 
                        class="tab-btn py-4 px-2 border-b-2 border-ap-red-primary text-ap-red-primary font-semibold text-sm focus:outline-none" 
                        role="tab" 
                        aria-selected="true"
                        aria-controls="tab-dashboard">
                        üìä Dashboard
                    </button>
                    <button 
                        id="tab-questions-btn" 
                        class="tab-btn py-4 px-2 border-b-2 border-transparent text-slate-600 hover:text-slate-900 hover:border-slate-300 font-semibold text-sm focus:outline-none transition" 
                        role="tab" 
                        aria-selected="false"
                        aria-controls="tab-questions">
                        üìù Questions du Quiz
                    </button>
                    <button 
                        id="tab-users-btn" 
                        class="tab-btn py-4 px-2 border-b-2 border-transparent text-slate-600 hover:text-slate-900 hover:border-slate-300 font-semibold text-sm focus:outline-none transition" 
                        role="tab" 
                        aria-selected="false"
                        aria-controls="tab-users">
                        üë• Gestion des Utilisateurs
                    </button>
                </nav>
            </div>
        </div>

        <!-- Tab Content -->
        <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">

            <!-- TAB: Dashboard -->
            <div id="tab-dashboard" class="tab-content" role="tabpanel">
                
                <!-- Header avec boutons d'action -->
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-3xl font-bold text-slate-900">üìä Dashboard Administrateur</h2>
                    <div class="flex gap-2">
                        <button id="refresh-dashboard-btn" class="px-4 py-2 bg-slate-600 hover:bg-slate-700 text-white rounded-lg transition-colors flex items-center gap-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                            </svg>
                            Actualiser
                        </button>
                        <button id="export-pdf-btn" class="px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors flex items-center gap-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                            </svg>
                            Export PDF
                        </button>
                        <button id="export-csv-btn" class="px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                            </svg>
                            Export CSV
                        </button>
                    </div>
                </div>

                <!-- Statistiques Globales -->
                <div id="global-stats-cards" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <!-- Cartes g√©n√©r√©es dynamiquement -->
                </div>

                <!-- Graphiques -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                    <!-- Graphique de progression -->
                    <div class="bg-white rounded-xl shadow-md p-6">
                        <h3 class="text-lg font-bold text-slate-900 mb-4">üìà √âvolution sur 30 jours</h3>
                        <div class="h-64">
                            <canvas id="chart-progress"></canvas>
                        </div>
                    </div>

                    <!-- Graphique par modules -->
                    <div class="bg-white rounded-xl shadow-md p-6">
                        <h3 class="text-lg font-bold text-slate-900 mb-4">üìä R√©partition par module</h3>
                        <div class="h-64">
                            <canvas id="chart-modules"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Graphique d'activit√© -->
                <div class="bg-white rounded-xl shadow-md p-6 mb-8">
                    <h3 class="text-lg font-bold text-slate-900 mb-4">üìÖ Activit√© des 7 derniers jours</h3>
                    <div class="h-64">
                        <canvas id="chart-activity"></canvas>
                    </div>
                </div>

                <!-- Top 10 & Activit√© R√©cente -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Top 10 Utilisateurs -->
                    <div class="bg-white rounded-xl shadow-md p-6">
                        <h3 class="text-lg font-bold text-slate-900 mb-4 flex items-center gap-2">
                            <span>üèÜ</span>
                            Top 10 Utilisateurs
                        </h3>
                        <div id="top-users-list" class="space-y-3">
                            <!-- Liste g√©n√©r√©e dynamiquement -->
                        </div>
                    </div>

                    <!-- Activit√© R√©cente -->
                    <div class="bg-white rounded-xl shadow-md p-6">
                        <h3 class="text-lg font-bold text-slate-900 mb-4 flex items-center gap-2">
                            <span>üïê</span>
                            Activit√© R√©cente
                        </h3>
                        <div id="recent-activity-list" class="space-y-2 max-h-96 overflow-y-auto">
                            <!-- Liste g√©n√©r√©e dynamiquement -->
                        </div>
                    </div>
                </div>

            </div>

            <!-- TAB: Questions -->
            <div id="tab-questions" class="tab-content tab-hidden" role="tabpanel">
                
                <!-- Section: Cr√©er une Question -->
                <section class="bg-white rounded-xl shadow-md p-6 mb-8">
                    <h2 class="text-2xl font-bold text-slate-900 mb-6 flex items-center gap-2">
                        <span>‚ûï</span> Cr√©er une Nouvelle Question
                    </h2>
                    
                    <form id="create-question-form" class="space-y-6">
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Module *</label>
                                <select name="module" required class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-ap-red-primary focus:border-transparent">
                                    <option value="">S√©lectionner...</option>
                                    <option value="auto">üöó Auto</option>
                                    <option value="loisir">üèîÔ∏è Loisir</option>
                                    <option value="vr">üöê VR</option>
                                    <option value="tracteur">üöú Tracteur</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Mois *</label>
                                <select name="month" required class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-ap-red-primary focus:border-transparent">
                                    <option value="">S√©lectionner...</option>
                                    <option value="1">Janvier</option>
                                    <option value="2">F√©vrier</option>
                                    <option value="3">Mars</option>
                                    <option value="4">Avril</option>
                                    <option value="5">Mai</option>
                                    <option value="6">Juin</option>
                                    <option value="7">Juillet</option>
                                    <option value="8">Ao√ªt</option>
                                    <option value="9">Septembre</option>
                                    <option value="10">Octobre</option>
                                    <option value="11">Novembre</option>
                                    <option value="12">D√©cembre</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Ann√©e *</label>
                                <input type="number" name="year" value="2025" min="2024" max="2030" required class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-ap-red-primary focus:border-transparent">
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-semibold text-slate-700 mb-2">Question * (min 10 caract√®res)</label>
                            <textarea name="question" rows="3" required minlength="10" placeholder="Entrez votre question ici..." class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-ap-red-primary focus:border-transparent resize-none"></textarea>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-semibold text-slate-700 mb-3">Options de r√©ponse * (4 options)</label>
                            <div class="space-y-3">
                                <div class="flex items-center gap-3">
                                    <span class="font-bold text-slate-700 w-6">A)</span>
                                    <input type="text" name="option1" required minlength="2" placeholder="Premi√®re option" class="flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-ap-red-primary focus:border-transparent">
                                </div>
                                <div class="flex items-center gap-3">
                                    <span class="font-bold text-slate-700 w-6">B)</span>
                                    <input type="text" name="option2" required minlength="2" placeholder="Deuxi√®me option" class="flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-ap-red-primary focus:border-transparent">
                                </div>
                                <div class="flex items-center gap-3">
                                    <span class="font-bold text-slate-700 w-6">C)</span>
                                    <input type="text" name="option3" required minlength="2" placeholder="Troisi√®me option" class="flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-ap-red-primary focus:border-transparent">
                                </div>
                                <div class="flex items-center gap-3">
                                    <span class="font-bold text-slate-700 w-6">D)</span>
                                    <input type="text" name="option4" required minlength="2" placeholder="Quatri√®me option" class="flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-ap-red-primary focus:border-transparent">
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-semibold text-slate-700 mb-3">Bonne r√©ponse *</label>
                            <div class="flex gap-6">
                                <label class="flex items-center gap-2 cursor-pointer">
                                    <input type="radio" name="correctAnswer" value="0" required class="w-4 h-4 text-ap-red-primary accent-ap-red-primary">
                                    <span class="font-semibold text-slate-700">A</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer">
                                    <input type="radio" name="correctAnswer" value="1" class="w-4 h-4 text-ap-red-primary accent-ap-red-primary">
                                    <span class="font-semibold text-slate-700">B</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer">
                                    <input type="radio" name="correctAnswer" value="2" class="w-4 h-4 text-ap-red-primary accent-ap-red-primary">
                                    <span class="font-semibold text-slate-700">C</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer">
                                    <input type="radio" name="correctAnswer" value="3" class="w-4 h-4 text-ap-red-primary accent-ap-red-primary">
                                    <span class="font-semibold text-slate-700">D</span>
                                </label>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-semibold text-slate-700 mb-2">Explication * (min 20 caract√®res)</label>
                            <textarea name="explanation" rows="4" required minlength="20" placeholder="Expliquez pourquoi c'est la bonne r√©ponse..." class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-ap-red-primary focus:border-transparent resize-none"></textarea>
                        </div>
                        
                        <div id="create-question-error"></div>
                        
                        <div class="flex gap-3">
                            <button type="reset" class="px-6 py-3 border border-slate-300 text-slate-700 font-semibold rounded-lg hover:bg-slate-50 transition">
                                Annuler
                            </button>
                            <button type="submit" class="flex-1 bg-ap-red-primary hover:bg-ap-red-dark text-white font-semibold py-3 px-6 rounded-lg transition shadow-ap-md hover:shadow-ap-lg transform hover:-translate-y-1">
                                ‚úì Cr√©er la Question
                            </button>
                        </div>
                    </form>
                </section>

                <!-- Section: Import JSON -->
                <section class="bg-white rounded-xl shadow-md p-6 mb-8">
                    <h2 class="text-2xl font-bold text-slate-900 mb-6 flex items-center gap-2">
                        <span>üì•</span> Importer des Questions depuis JSON
                    </h2>
                    
                    <div class="border-2 border-dashed border-slate-300 rounded-xl p-8 text-center hover:border-ap-red-primary transition">
                        <svg class="w-16 h-16 mx-auto text-slate-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                        </svg>
                        <p class="text-lg font-semibold text-slate-700 mb-2">Glissez votre fichier JSON ici</p>
                        <p class="text-sm text-slate-500 mb-4">ou</p>
                        <input type="file" id="json-file-input" accept=".json" class="hidden">
                        <button id="browse-json-btn" class="bg-ap-red-primary hover:bg-ap-red-dark text-white font-semibold py-2 px-6 rounded-lg transition shadow-ap-md hover:shadow-ap-lg">
                            üìé Parcourir les fichiers
                        </button>
                        <p class="text-xs text-slate-400 mt-4">Format attendu: .json</p>
                    </div>
                    
                    <div id="json-preview" class="mt-6"></div>
                </section>

                <!-- Section: Liste des Questions -->
                <section class="bg-white rounded-xl shadow-md p-6 mb-8">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-2xl font-bold text-slate-900 flex items-center gap-2">
                            <span>üìö</span> Questions Existantes
                        </h2>
                    </div>
                    
                    <!-- Filtres -->
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                        <select id="filter-module" class="px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-ap-red-primary focus:border-transparent">
                            <option value="">Tous les modules</option>
                            <option value="auto">üöó Auto</option>
                            <option value="loisir">üèîÔ∏è Loisir</option>
                            <option value="vr">üöê VR</option>
                            <option value="tracteur">üöú Tracteur</option>
                        </select>
                        <select id="filter-month" class="px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-ap-red-primary focus:border-transparent">
                            <option value="">Tous les mois</option>
                            <option value="1">Janvier</option>
                            <option value="2">F√©vrier</option>
                            <option value="3">Mars</option>
                            <option value="4">Avril</option>
                            <option value="5">Mai</option>
                            <option value="6">Juin</option>
                            <option value="7">Juillet</option>
                            <option value="8">Ao√ªt</option>
                            <option value="9">Septembre</option>
                            <option value="10">Octobre</option>
                            <option value="11">Novembre</option>
                            <option value="12">D√©cembre</option>
                        </select>
                        <select id="filter-year" class="px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-ap-red-primary focus:border-transparent">
                            <option value="">Toutes les ann√©es</option>
                            <option value="2025" selected>2025</option>
                            <option value="2024">2024</option>
                            <option value="2026">2026</option>
                        </select>
                        <input type="text" id="search-questions" placeholder="üîç Rechercher..." class="px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-ap-red-primary focus:border-transparent">
                    </div>
                    
                    <!-- Liste -->
                    <div id="questions-list" class="space-y-4 mb-6">
                        <!-- Les questions seront charg√©es ici -->
                    </div>
                    
                    <!-- Pagination -->
                    <div class="flex items-center justify-between border-t border-slate-200 pt-4">
                        <button id="prev-page-btn" class="px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 font-semibold rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed">
                            ‚Üê Pr√©c√©dent
                        </button>
                        <span id="page-info" class="text-sm text-slate-600 font-medium">Page 1/1</span>
                        <button id="next-page-btn" class="px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 font-semibold rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed">
                            Suivant ‚Üí
                        </button>
                    </div>
                </section>

                <!-- Section: Statistiques -->
                <section id="questions-stats">
                    <!-- Les stats seront charg√©es ici -->
                </section>

            </div>

            <!-- TAB: Utilisateurs -->
            <div id="tab-users" class="tab-content tab-hidden" role="tabpanel">
                
                <!-- Section: Cr√©er un Utilisateur -->
                <section class="bg-white rounded-xl shadow-md p-6 mb-8">
                    <h2 class="text-2xl font-bold text-slate-900 mb-6 flex items-center gap-2">
                        <span>‚ûï</span> Cr√©er un Nouvel Utilisateur
                    </h2>
                    
                    <form id="create-user-form" class="space-y-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Nom complet *</label>
                                <input type="text" name="displayName" required minlength="3" placeholder="Ex: Jean Dupont" 
                                       class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-ap-red-primary focus:border-transparent">
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Email *</label>
                                <input type="email" name="email" required placeholder="exemple@email.com" 
                                       class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-ap-red-primary focus:border-transparent">
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Mot de passe temporaire *</label>
                                <input type="password" name="password" required minlength="6" placeholder="Min 6 caract√®res" 
                                       class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-ap-red-primary focus:border-transparent">
                                <p class="text-xs text-slate-500 mt-1">L'utilisateur devra changer ce mot de passe √† la premi√®re connexion</p>
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">R√¥le *</label>
                                <select name="role" required class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-ap-red-primary focus:border-transparent">
                                    <option value="user">üë§ Utilisateur Standard</option>
                                    <option value="admin">üî∞ Administrateur</option>
                                </select>
                            </div>
                        </div>
                        
                        <div id="create-user-error" class="hidden bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg"></div>
                        <div id="create-user-success" class="hidden bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg"></div>
                        
                        <div class="flex gap-4">
                            <button type="submit" id="create-user-btn" class="flex-1 bg-ap-red-primary hover:bg-ap-red-dark text-white px-6 py-3 rounded-lg font-semibold transition shadow-ap-md hover:shadow-ap-lg transform hover:-translate-y-1">
                                ‚ûï Cr√©er l'utilisateur
                            </button>
                            <button type="button" id="generate-password-btn" class="px-6 py-3 border-2 border-ap-red-primary text-ap-red-primary rounded-lg font-semibold hover:bg-ap-red-50 transition">
                                üé≤ G√©n√©rer un mot de passe
                            </button>
                        </div>
                    </form>
                </section>
                
                <!-- Section: Liste des Utilisateurs -->
                <section class="bg-white rounded-xl shadow-md p-6 mb-8">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-2xl font-bold text-slate-900 flex items-center gap-2">
                            <span>üë•</span> Utilisateurs
                        </h2>
                    </div>
                    
                    <!-- Filtres -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                        <select id="filter-user-role" class="px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-ap-red-primary focus:border-transparent">
                            <option value="">Tous les r√¥les</option>
                            <option value="user">üë§ Users</option>
                            <option value="admin">üî∞ Admins</option>
                        </select>
                        <select id="filter-user-status" class="px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-ap-red-primary focus:border-transparent">
                            <option value="all">Tous les statuts</option>
                            <option value="active">Actifs</option>
                            <option value="inactive">Inactifs</option>
                        </select>
                        <input type="text" id="search-users" placeholder="üîç Rechercher par nom ou email..." class="px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-ap-red-primary focus:border-transparent">
                    </div>
                    
                    <!-- Liste -->
                    <div id="users-list" class="space-y-4">
                        <!-- Les utilisateurs seront charg√©s ici -->
                    </div>
                </section>

                <!-- Section: Statistiques -->
                <section id="users-stats">
                    <!-- Les stats seront charg√©es ici -->
                </section>

            </div>

        </main>
    </div>

    <!-- Scripts externes: Chart.js et jsPDF -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <!-- Scripts Firebase & App -->

</main>
</body>
</html>
